var Tank=pc.createScript("tank");Tank.attributes.add("gun",{type:"entity"}),Tank.attributes.add("particles",{type:"entity"}),Tank.prototype.initialize=function(){this.animationTimer=0,this.pos=new pc.Vec3,this.gunPosition=new pc.Vec3,this.app.touch?this.app.touch.on("touchstart",this.shoot,this):this.app.mouse.on("mousedown",this.shoot,this),this.gunPosition.copy(this.gun.getLocalPosition())},Tank.prototype.shoot=function(){this.animationTimer=1.5,this.entity.sound.play("shoot"),this.particles.particlesystem.reset(),this.particles.particlesystem.play()},Tank.prototype.update=function(t){if(!(this.animationTimer<=0)){this.animationTimer-=2*t;var i=this.pos;i.x=0,i.y=0,i.z=.1*-Math.sin(this.animationTimer),i.add(this.gunPosition),this.gun.setLocalPosition(i)}};var Rotate=pc.createScript("rotate");var Moving=pc.createScript("moving");Moving.prototype.initialize=function(){},Moving.prototype.update=function(t){this.app.keyboard.isPressed(pc.KEY_LEFT)&&this.entity.translateLocal(-.1,0,0),this.app.keyboard.isPressed(pc.KEY_RIGHT)&&this.entity.translateLocal(.1,0,0),this.app.keyboard.isPressed(pc.KEY_Q)&&this.entity.translateLocal(0,.1,0),this.app.keyboard.isPressed(pc.KEY_E)&&this.entity.translateLocal(0,-.1,0),this.app.keyboard.isPressed(pc.KEY_UP)&&this.entity.translateLocal(0,0,.1),this.app.keyboard.isPressed(pc.KEY_DOWN)&&this.entity.translateLocal(0,0,-.1)};